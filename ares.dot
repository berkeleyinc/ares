digraph G {
compound=true;
graph[splines = "polyline", nodesep = "1"];
rankdir ="LR"
node[shape = "Msquare", fontname = "sans-serif", fontsize = "25.0", penwidth = 2, color=blue];
WS [label="Presenter\n(WebService)"];
MOD [label="Modifier\n(restrukturiert BP)"];
GEN [label="Generator\n(kreiert BP)"];
SIM [label="Simulator"];
node[shape = "box", fontname = "sans-serif", fontsize = "18.0", penwidth = 2, color=gray];
INDEX [label="View\n(index.dt)"];
STORE [label="Session Storage"];
ASS_MOD [label="AssignMod\n(Bearbeiter zuweisen)"];
MOV_MOD [label="EmbedMod\n(aus-/einlagern)"];
PAR_MOD [label="ParallelMod\n(Parallelisg.)"];
RUN [label="Runner"];
// SER [label="Serialize (msgpack Format)"];
// DSER [label="Deserialize"];


INDEX -> WS [label="operiert durch REST"]
WS -> INDEX [label="fÃ¼llt Template"]
STORE -> WS
WS -> GEN [label="startet"]
GEN -> WS [label="gibt BP aus"];
WS -> MOD [label="startet"]
WS -> SIM [label="startet"]
MOD -> SIM [label="nutzt Sim. f. opt. Mods"]
ASS_MOD -> MOD [constraint=true];
MOV_MOD -> MOD [constraint=true];
PAR_MOD -> MOD [constraint=true];
SIM -> RUN [label="nutzt"]
// BO -> SER [lhead=cluster0, ltail=cluster0, label="bin/json"];
// DSER -> BO [lhead=cluster0, ltail=cluster0, label="bin"];
USER_CFG -> STORE;
BO -> STORE [lhead=cluster0, ltail=cluster0, weight=0, constraint=false];

	subgraph cluster0 {
		node [style=filled];
    BO [label="BusinessObject\n(abstrakt)"];
    FUNC [label="Function"];
    EVT [label="Event"];
    PART [label="Participant\n(Bearbeiter)"];
    CONN [label="Connector\n(AND/XOR/OR)"];
    BO -> FUNC
    BO -> EVT
    BO -> CONN
    BO -> PART
    label = "BusinessProcess\n(de-/serialisierbar)";
    color=red;
    fontname = "sans-serif";
    fontsize = "18.0";
    penwidth = 2;
  }
	subgraph cluster1 {
		node [style=filled];
    USER_CFG [label="Cfg.PerUser (sitzungs-basiert)"];
    label = "Config (config.js Datei)";
    color=gray;
    fontname = "sans-serif";
    fontsize = "18.0";
    penwidth = 2;
  }
}
